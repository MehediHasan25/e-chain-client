{"ast":null,"code":"var _jsxFileName = \"/home/mehedi/Documents/e-newclient_v-2/e-chain-client/src/Component/Update/UpdateNid1.js\";\nimport React, { Component } from 'react';\nimport cookie from '../utils/cookie';\nimport ImageConversion from '../utils/ImageConversion';\nimport Images from \"../Images\";\nimport Navbar from \"../Navbar\";\nimport axios from 'axios';\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport 'react-day-picker/lib/style.css';\nimport dateFormatConverter from '../utils/dateFormatConverter';\nimport Loading from \"../loading/Spinner\";\nimport nidformvalidation from \"../Validation/Nidformvalidation\";\nimport fileValidation from \"../Validation/fileValidation\";\nimport { Redirect } from 'react-router-dom';\nimport { getNid, setNid } from \"../Url/Nid\";\nimport { getTransactionStatus } from \"../Url/Eth\";\n\nconst Joi = require('@hapi/joi');\n\nclass UpdateNid1 extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      name: '',\n      fatherName: '',\n      motherName: '',\n      pob: '',\n      dob: '',\n      nidNo: '',\n      bloodGroup: '',\n      issueDate: '',\n      address: '',\n      nidImage: '',\n      oldNidImage: '',\n      loading: false\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            name = _this$state.name,\n            fatherName = _this$state.fatherName,\n            motherName = _this$state.motherName,\n            pob = _this$state.pob,\n            dob = _this$state.dob,\n            nidNo = _this$state.nidNo,\n            bloodGroup = _this$state.bloodGroup,\n            issueDate = _this$state.issueDate,\n            address = _this$state.address,\n            nidImage = _this$state.nidImage;\n      const config = {\n        headers: {\n          \"x-auth-token\": cookie.getCookie(\"x-auth-token\")\n        }\n      };\n      const formData = new FormData();\n\n      try {\n        const nidobj = {\n          name,\n          fatherName,\n          motherName,\n          pob,\n          dob,\n          nidNo,\n          bloodGroup,\n          issueDate,\n          address\n        };\n        const result = Joi.validate(nidobj, nidformvalidation.setNidJoiSchema);\n\n        if (result.error !== null) {\n          throw Error(result.error.details[0].message);\n        } else if (fileValidation.fileValidate(\"updateNidFile\", 3 * 1024 * 1024, [\"image/jpeg\", \"image/png\"]) === false) {\n          console.log(\"File validation failed\");\n        } else {\n          formData.append('name', name);\n          formData.append('fatherName', fatherName);\n          formData.append('motherName', motherName);\n          formData.append('pob', pob);\n          formData.append('dob', dob);\n          formData.append('nidNo', nidNo);\n          formData.append('bloodGroup', bloodGroup);\n          formData.append('issueDate', issueDate);\n          formData.append('address', address);\n          formData.append('nidImage', nidImage, nidImage.name);\n          this.setState({\n            loading: true\n          }, async () => {\n            ////////////////////setNid\n            const res = await axios.post(setNid, formData, config);\n            let txHash = res.data.txHash;\n            setTimeout(async () => {\n              try {\n                console.log(\"Hash of tx: \", txHash); ////////////////////////////getTransactionStatus\n\n                let txStatus = await axios.post(getTransactionStatus, {\n                  txHash: txHash\n                }, config);\n                console.log(\"Transaction status: \", txStatus);\n\n                if (txStatus.data.status) {\n                  alert(\"Tranasction Successfull: \".concat(txStatus.data.status, \" : \").concat(txStatus.data.confirmations));\n                  this.setState({\n                    loading: false\n                  });\n                  this.props.history.push(\"/profile\");\n                } else {\n                  alert(\"Tx in mempool please wait for sometime\");\n                  this.setState({\n                    loading: false\n                  });\n                }\n              } catch (ex) {\n                alert(ex.toString());\n                this.setState({\n                  loading: false\n                });\n              }\n            }, 1000 * 10);\n            console.log(\"End\");\n            this.setState({\n              name: '',\n              fatherName: '',\n              motherName: '',\n              pob: '',\n              dob: '',\n              nidNo: '',\n              bloodGroup: '',\n              issueDate: '',\n              address: '',\n              nidImage: ''\n            });\n          });\n        }\n      } catch (ex) {\n        alert(ex.toString());\n      }\n    };\n\n    this.onChangeName = e => this.setState({\n      name: e.target.value\n    });\n\n    this.onChangeFatherName = e => this.setState({\n      fatherName: e.target.value\n    });\n\n    this.onChangeMotherName = e => this.setState({\n      motherName: e.target.value\n    });\n\n    this.onChangePob = e => this.setState({\n      pob: e.target.value\n    });\n\n    this.handleDayChange = (selectedDay, modifiers, dayPickerInput) => {\n      const input = dayPickerInput.getInput(); //  console.log(input.value);\n\n      try {\n        const niddateConvert = dateFormatConverter.getNidFormat(input.value);\n        this.setState({\n          dob: niddateConvert\n        });\n      } catch (ex) {//console.log(ex);\n      }\n    };\n\n    this.handleIssueDateChange = (selectedDay, modifiers, dayPickerInput) => {\n      const input = dayPickerInput.getInput();\n\n      try {\n        const issueDateConvert = dateFormatConverter.getNidIssueDateFormat(input.value);\n        this.setState({\n          issueDate: issueDateConvert\n        });\n      } catch (ex) {//   console.log(ex);\n      }\n    };\n\n    this.onChangeNidNo = e => this.setState({\n      nidNo: e.target.value\n    });\n\n    this.onChangeAddress = e => this.setState({\n      address: e.target.value\n    });\n\n    this.handleBloodChange = e => {\n      this.setState({\n        bloodGroup: e.target.value\n      });\n    };\n\n    this.fileSelectedHandler = event => {\n      this.setState({\n        nidImage: event.target.files[0] //nidImage: URL.createObjectURL(event.target.files[0])\n\n      });\n    };\n  }\n\n  componentWillMount() {\n    document.title = 'Update NID';\n  }\n\n  componentDidMount() {\n    const config = {\n      headers: {\n        \"x-auth-token\": cookie.getCookie(\"x-auth-token\")\n      } ////////////////////////////////getNid\n\n    };\n    axios.get(getNid, config).then(res => {\n      let base64Flag = 'data:image/jpeg;base64,';\n      let imageBuffer = res.data.nidImage.data.data;\n      let imageString = ImageConversion.arrayBufferToBase64(imageBuffer);\n      let convertImageFlag = base64Flag + imageString; //console.log(convertImageFlag.data);\n      // console.log(typeof(imageString));\n\n      this.setState({\n        name: res.data.nidData.name,\n        fatherName: res.data.nidData.fatherName,\n        motherName: res.data.nidData.motherName,\n        pob: res.data.nidData.pob,\n        dob: res.data.nidData.dob,\n        nidNo: res.data.nidData.nidNo,\n        bloodGroup: res.data.nidData.bloodGroup,\n        issueDate: res.data.nidData.issueDate,\n        address: res.data.nidData.address,\n        nidImage: convertImageFlag,\n        oldNidImage: convertImageFlag\n      });\n    }).catch(err => {\n      if (err.response) {\n        if (err.response.status === 400 || err.response.status === 401) {\n          console.log(err.response.data); // alert(err.response.data.message);\n        } else if (err.response.status === 404) {\n          //alert(\"Not Found\");\n          console.log(\"Not Found\");\n        } else if (err.response.status === 500) {\n          //alert(err.response.data.message);\n          console.log(\"Internal Server Error\");\n        }\n      } else if (err.request) {\n        console.log(err.request); //alert(\"Error Connectiong\");\n      } else {\n        console.log(\"Error\", err.message); // alert(err.message);\n      }\n    });\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          name = _this$state2.name,\n          fatherName = _this$state2.fatherName,\n          motherName = _this$state2.motherName,\n          pob = _this$state2.pob,\n          dob = _this$state2.dob,\n          nidNo = _this$state2.nidNo,\n          bloodGroup = _this$state2.bloodGroup,\n          issueDate = _this$state2.issueDate,\n          address = _this$state2.address,\n          loading = _this$state2.loading;\n\n    if (cookie.getCookie(\"x-auth-token\") === \"\" && cookie.getCookie(\"username\") === \"\") {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243\n        },\n        __self: this\n      });\n    }\n\n    const updateNidData = React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      style: {\n        textAlign: \"center\",\n        color: \"#33bfaa\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \" Update NID Information \"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"updateNidFile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \"Update NID Image\"), \"\\xA0\\xA0\", React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.fileSelectedHandler,\n      className: \"form-control-file\",\n      id: \"updateNidFile\",\n      \"aria-describedby\": \"fileHelp\",\n      onClick: this.handleNidSelectFileClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, \"Name:\"), \"\\xA0\\xA0\", React.createElement(\"input\", {\n      label: \"Name\",\n      type: \"text\",\n      value: name,\n      placeholder: \"Name\",\n      onChange: this.onChangeName,\n      className: \"form-control\",\n      id: \"nidname\",\n      onClick: this.handleNidNameClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"fathername\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, \"Father's Name:\"), \"\\xA0\\xA0\", React.createElement(\"input\", {\n      label: \"Father Name\",\n      type: \"text\",\n      value: fatherName,\n      placeholder: \"Father Name\",\n      onChange: this.onChangeFatherName,\n      className: \"form-control\",\n      id: \"fatherName\",\n      onClick: this.handleNidFatherNameClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"motherName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \"Mother's Name:\"), \"\\xA0\\xA0\", React.createElement(\"input\", {\n      label: \"Mother Name\",\n      type: \"text\",\n      value: motherName,\n      placeholder: \"Mother Name\",\n      onChange: this.onChangeMotherName,\n      className: \"form-control\",\n      id: \"motherName\",\n      onClick: this.handleNidMotherNameClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"pob\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, \"Place of Birth:\"), \"\\xA0\\xA0\", React.createElement(\"input\", {\n      label: \"Place of Birth\",\n      type: \"text\",\n      value: pob,\n      placeholder: \"Place of Birth\",\n      onChange: this.onChangePob,\n      className: \"form-control\",\n      id: \"pob\",\n      onClick: this.handleNidPobClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, \"Date of Birth:\"), \"\\xA0\\xA0\", React.createElement(DayPickerInput, {\n      value: dob,\n      onDayChange: this.handleDayChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"nidNo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, \"NID No:\"), \"\\xA0\\xA0\", React.createElement(\"input\", {\n      label: \"NID No\",\n      type: \"text\",\n      value: nidNo,\n      placeholder: \"NID Number\",\n      onChange: this.onChangeNidNo,\n      className: \"form-control\",\n      id: \"nidNo\",\n      onClick: this.handleNidNoClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"bloodGroup\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, \"Blood Group:\"), \"\\xA0\\xA0\", React.createElement(\"select\", {\n      id: \"bloodGroup\",\n      className: \"custom-select\",\n      value: bloodGroup,\n      name: this.props.name,\n      onChange: this.handleBloodChange.bind(this),\n      onClick: this.handleNidBloodGroupClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, \"--Select--\"), React.createElement(\"option\", {\n      value: \"A+\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }, \"A+\"), React.createElement(\"option\", {\n      value: \"AB+\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, \"AB+\"), React.createElement(\"option\", {\n      value: \"A-\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, \"A-\"), React.createElement(\"option\", {\n      value: \"B+\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }, \"B+\"), React.createElement(\"option\", {\n      value: \"B-\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, \"B-\"), React.createElement(\"option\", {\n      value: \"O+\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, \"O+\"), React.createElement(\"option\", {\n      value: \"O-\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, \"O-\"))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, \"Issue Date:\"), \"\\xA0\\xA0\", React.createElement(DayPickerInput, {\n      value: issueDate,\n      onDayChange: this.handleIssueDateChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"Address\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, \"Address:\"), \"\\xA0\\xA0\", React.createElement(\"input\", {\n      label: \"Address\",\n      type: \"text\",\n      value: address,\n      placeholder: \"Address\",\n      onChange: this.onChangeAddress,\n      className: \"form-control\",\n      id: \"Address\",\n      onClick: this.handleNidAddressClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    })), React.createElement(\"small\", {\n      id: \"fileHelp\",\n      className: \"form-text text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      style: {\n        color: \"#33bfaa\"\n      },\n      className: \"fas fa-exclamation-circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }), \"\\xA0 Before submitting form, please check all your provided information again.\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      style: {\n        backgroundColor: \"#00cccc\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \" mx-auto d-block\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }), React.createElement(\"img\", {\n      src: this.state.oldNidImage,\n      className: \"img-thumbnail\",\n      alt: \"\",\n      width: \"304\",\n      height: \"236\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 346\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      style: {\n        textAlign: \"center\",\n        color: \"#33bfaa\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 347\n      },\n      __self: this\n    }, \"NID Image\")))));\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex align-items-center justify-content-sm-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, React.createElement(Images, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-sm-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361\n      },\n      __self: this\n    }))), loading ? React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }) : updateNidData);\n  }\n\n}\n\nexport default UpdateNid1;","map":{"version":3,"sources":["/home/mehedi/Documents/e-newclient_v-2/e-chain-client/src/Component/Update/UpdateNid1.js"],"names":["React","Component","cookie","ImageConversion","Images","Navbar","axios","DayPickerInput","dateFormatConverter","Loading","nidformvalidation","fileValidation","Redirect","getNid","setNid","getTransactionStatus","Joi","require","UpdateNid1","state","name","fatherName","motherName","pob","dob","nidNo","bloodGroup","issueDate","address","nidImage","oldNidImage","loading","onSubmit","e","preventDefault","config","headers","getCookie","formData","FormData","nidobj","result","validate","setNidJoiSchema","error","Error","details","message","fileValidate","console","log","append","setState","res","post","txHash","data","setTimeout","txStatus","status","alert","confirmations","props","history","push","ex","toString","onChangeName","target","value","onChangeFatherName","onChangeMotherName","onChangePob","handleDayChange","selectedDay","modifiers","dayPickerInput","input","getInput","niddateConvert","getNidFormat","handleIssueDateChange","issueDateConvert","getNidIssueDateFormat","onChangeNidNo","onChangeAddress","handleBloodChange","fileSelectedHandler","event","files","componentWillMount","document","title","componentDidMount","get","then","base64Flag","imageBuffer","imageString","arrayBufferToBase64","convertImageFlag","nidData","catch","err","response","request","render","updateNidData","textAlign","color","handleNidSelectFileClick","handleNidNameClick","handleNidFatherNameClick","handleNidMotherNameClick","handleNidPobClick","handleNidNoClick","bind","handleNidBloodGroupClick","handleNidAddressClick","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport cookie from '../utils/cookie';\nimport ImageConversion from '../utils/ImageConversion';\nimport Images from \"../Images\";\nimport Navbar from \"../Navbar\";\nimport axios from 'axios';\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport 'react-day-picker/lib/style.css';\nimport dateFormatConverter from '../utils/dateFormatConverter';\nimport Loading from \"../loading/Spinner\";\nimport nidformvalidation from \"../Validation/Nidformvalidation\";\nimport fileValidation from \"../Validation/fileValidation\";\nimport { Redirect } from 'react-router-dom';\nimport { getNid, setNid } from \"../Url/Nid\";\nimport { getTransactionStatus } from \"../Url/Eth\";\nconst Joi = require('@hapi/joi');\n\nclass UpdateNid1 extends Component {\n    state = {\n        name: '',\n        fatherName: '',\n        motherName: '',\n        pob: '',\n        dob: '',\n        nidNo: '',\n        bloodGroup: '',\n        issueDate: '',\n        address: '',\n        nidImage: '',\n        oldNidImage: '',\n        loading: false\n    }\n\n    componentWillMount() {\n        document.title = 'Update NID';\n    }\n\n\n    componentDidMount() {\n        const config = {\n            headers: {\n                \"x-auth-token\": cookie.getCookie(\"x-auth-token\")\n            }\n        }\n        ////////////////////////////////getNid\n        axios.get(getNid, config)\n            .then(res => {\n                let base64Flag = 'data:image/jpeg;base64,';\n                let imageBuffer = res.data.nidImage.data.data;\n                let imageString = ImageConversion.arrayBufferToBase64(imageBuffer);\n                let convertImageFlag = base64Flag + imageString;\n                //console.log(convertImageFlag.data);\n                // console.log(typeof(imageString));\n                this.setState({\n                    name: res.data.nidData.name,\n                    fatherName: res.data.nidData.fatherName,\n                    motherName: res.data.nidData.motherName,\n                    pob: res.data.nidData.pob,\n                    dob: res.data.nidData.dob,\n                    nidNo: res.data.nidData.nidNo,\n                    bloodGroup: res.data.nidData.bloodGroup,\n                    issueDate: res.data.nidData.issueDate,\n                    address: res.data.nidData.address,\n                    nidImage: convertImageFlag,\n                    oldNidImage: convertImageFlag\n                });\n\n            })\n            .catch(err => {\n                if (err.response) {\n                    if (err.response.status === 400 || err.response.status === 401) {\n                        console.log(err.response.data);\n                        // alert(err.response.data.message);\n\n                    }\n                    else if (err.response.status === 404) {\n                        //alert(\"Not Found\");\n                        console.log(\"Not Found\");\n                    }\n                    else if (err.response.status === 500) {\n                        //alert(err.response.data.message);\n                        console.log(\"Internal Server Error\");\n                    }\n                }\n                else if (err.request) {\n                    console.log(err.request);\n                    //alert(\"Error Connectiong\");\n                }\n                else {\n                    console.log(\"Error\", err.message);\n                    // alert(err.message);\n                }\n            });\n    }\n\n    onSubmit = e => {\n        e.preventDefault();\n        const { name, fatherName, motherName, pob, dob, nidNo, bloodGroup, issueDate, address, nidImage } = this.state;\n        const config = {\n            headers: {\n                \"x-auth-token\": cookie.getCookie(\"x-auth-token\")\n            }\n        }\n\n        const formData = new FormData();\n\n\n        try {\n            const nidobj = {\n                name,\n                fatherName,\n                motherName,\n                pob,\n                dob,\n                nidNo,\n                bloodGroup,\n                issueDate,\n                address,\n\n            }\n\n            const result = Joi.validate(nidobj, nidformvalidation.setNidJoiSchema);\n\n            if (result.error !== null) {\n                throw Error(result.error.details[0].message);\n            }\n            else if (fileValidation.fileValidate(\"updateNidFile\", (3 * 1024 * 1024), [\"image/jpeg\", \"image/png\"]) === false) {\n                console.log(\"File validation failed\");\n            }\n            else {\n                formData.append('name', name);\n                formData.append('fatherName', fatherName);\n                formData.append('motherName', motherName);\n                formData.append('pob', pob);\n                formData.append('dob', dob);\n                formData.append('nidNo', nidNo);\n                formData.append('bloodGroup', bloodGroup);\n                formData.append('issueDate', issueDate);\n                formData.append('address', address);\n                formData.append('nidImage', nidImage, nidImage.name);\n                this.setState({ loading: true }, async () => {\n                    ////////////////////setNid\n                    const res = await axios.post(setNid, formData, config);\n                    let txHash = res.data.txHash;\n                    setTimeout(async () => {\n                        try {\n                            console.log(\"Hash of tx: \", txHash);\n                            ////////////////////////////getTransactionStatus\n                            let txStatus = await axios.post(getTransactionStatus, { txHash: txHash }, config);\n                            console.log(\"Transaction status: \", txStatus);\n                            if (txStatus.data.status) {\n                                alert(`Tranasction Successfull: ${txStatus.data.status} : ${txStatus.data.confirmations}`);\n                                this.setState({ loading: false });\n                                this.props.history.push(\"/profile\");\n                            }\n                            else {\n                                alert(\"Tx in mempool please wait for sometime\");\n                                this.setState({ loading: false });\n\n                            }\n                        }\n                        catch (ex) {\n                            alert(ex.toString());\n                            this.setState({ loading: false })\n                        }\n                    }, 1000 * 10);\n                    console.log(\"End\");\n                    this.setState({\n                        name: '',\n                        fatherName: '',\n                        motherName: '',\n                        pob: '',\n                        dob: '',\n                        nidNo: '',\n                        bloodGroup: '',\n                        issueDate: '',\n                        address: '',\n                        nidImage: ''\n                    });\n                });\n            }\n        }\n        catch (ex) {\n            alert(ex.toString());\n        }\n\n\n    }\n\n\n    onChangeName = e => this.setState({ name: e.target.value });\n    onChangeFatherName = e => this.setState({ fatherName: e.target.value });\n    onChangeMotherName = e => this.setState({ motherName: e.target.value });\n    onChangePob = e => this.setState({ pob: e.target.value });\n\n    handleDayChange = (selectedDay, modifiers, dayPickerInput) => {\n        const input = dayPickerInput.getInput();\n        //  console.log(input.value);\n        try {\n            const niddateConvert = dateFormatConverter.getNidFormat(input.value);\n            this.setState({ dob: niddateConvert });\n        }\n        catch (ex) {\n            //console.log(ex);\n        }\n\n    }\n\n\n    handleIssueDateChange = (selectedDay, modifiers, dayPickerInput) => {\n        const input = dayPickerInput.getInput();\n\n        try {\n            const issueDateConvert = dateFormatConverter.getNidIssueDateFormat(input.value);\n            this.setState({ issueDate: issueDateConvert });\n        }\n        catch (ex) {\n            //   console.log(ex);\n        }\n\n    }\n\n\n    onChangeNidNo = e => this.setState({ nidNo: e.target.value });\n    onChangeAddress = e => this.setState({ address: e.target.value });\n    //onChangeIssueDate = e => this.setState({ issueDate: e.target.value });\n\n    handleBloodChange = e => {\n        this.setState({ bloodGroup: e.target.value });\n    }\n\n    fileSelectedHandler = event => {\n        this.setState({\n            nidImage: event.target.files[0]\n            //nidImage: URL.createObjectURL(event.target.files[0])\n        })\n    }\n\n    render() {\n        const { name, fatherName, motherName, pob, dob, nidNo, bloodGroup, issueDate, address, loading } = this.state;\n\n        if (cookie.getCookie(\"x-auth-token\") === \"\" && cookie.getCookie(\"username\") === \"\") {\n            return <Redirect to='/login' />\n        }\n        const updateNidData = (\n            <div className=\"container\">\n                <br />\n\n                {/* <div className=\"d-flex align-items-center justify-content-sm-between\">\n                    <div className=\"col-sm-4\" >\n                        <Images />\n                    </div>\n\n                    <div className=\"col-sm-6\" >\n                        <Navbar />\n                    </div>\n                </div> */}\n                <br />\n\n                <h3 style={{ textAlign: \"center\", color: \"#33bfaa\" }}> Update NID Information </h3>\n                <hr />\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n\n                            <br />\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"updateNidFile\">Update NID Image</label>&nbsp;&nbsp;\n                                    <input type=\"file\" onChange={this.fileSelectedHandler} className=\"form-control-file\" id=\"updateNidFile\" aria-describedby=\"fileHelp\" onClick={this.handleNidSelectFileClick}></input>\n\n                            </div>\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"name\" >Name:</label>&nbsp;&nbsp;\n                        <input label=\"Name\" type=\"text\" value={name} placeholder=\"Name\" onChange={this.onChangeName} className=\"form-control\" id=\"nidname\" onClick={this.handleNidNameClick}></input>\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"fathername\">Father's Name:</label>&nbsp;&nbsp;\n                        <input label=\"Father Name\" type=\"text\" value={fatherName} placeholder=\"Father Name\" onChange={this.onChangeFatherName} className=\"form-control\" id=\"fatherName\" onClick={this.handleNidFatherNameClick}></input>\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"motherName\">Mother's Name:</label>&nbsp;&nbsp;\n                        <input label=\"Mother Name\" type=\"text\" value={motherName} placeholder=\"Mother Name\" onChange={this.onChangeMotherName} className=\"form-control\" id=\"motherName\" onClick={this.handleNidMotherNameClick}></input>\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"pob\">Place of Birth:</label>&nbsp;&nbsp;\n                        <input label=\"Place of Birth\" type=\"text\" value={pob} placeholder=\"Place of Birth\" onChange={this.onChangePob} className=\"form-control\" id=\"pob\" onClick={this.handleNidPobClick}></input>\n                            </div>\n                            <div className=\"form-group\">\n                                <div>\n                                    <p>Date of Birth:</p>&nbsp;&nbsp;\n                            <DayPickerInput value={dob} onDayChange={this.handleDayChange} />\n                                </div>\n                            </div>\n\n\n                            <div className=\"form-group\">\n                                <label htmlFor=\"nidNo\">NID No:</label>&nbsp;&nbsp;\n                        <input label=\"NID No\" type=\"text\" value={nidNo} placeholder=\"NID Number\" onChange={this.onChangeNidNo} className=\"form-control\" id=\"nidNo\" onClick={this.handleNidNoClick}></input>\n                            </div>\n                            <div className=\"form-group\">\n\n                                <label htmlFor=\"bloodGroup\">Blood Group:</label>&nbsp;&nbsp;\n                        <select id=\"bloodGroup\" className=\"custom-select\" value={bloodGroup} name={this.props.name} onChange={this.handleBloodChange.bind(this)} onClick={this.handleNidBloodGroupClick}  >\n                                    <option value=\"\">--Select--</option>\n                                    <option value=\"A+\">A+</option>\n                                    <option value=\"AB+\">AB+</option>\n                                    <option value=\"A-\">A-</option>\n                                    <option value=\"B+\">B+</option>\n                                    <option value=\"B-\">B-</option>\n                                    <option value=\"O+\">O+</option>\n                                    <option value=\"O-\">O-</option>\n                                </select>\n\n\n\n                            </div>\n                            {/* <div className=\"form-group\">\n                                <label htmlFor=\"pwd\">Issue Date:</label>&nbsp;&nbsp;\n                        <input label=\"Issue Date\" type=\"text\" value={issueDate} placeholder=\"Issue Date\" onChange={this.onChangeIssueDate} className=\"form-control\" id=\"pwd\" onClick={this.handleNidIssueDateClick}></input>\n                            </div> */}\n                            <div className=\"form-group\">\n                                <div>\n                                    <p>Issue Date:</p>&nbsp;&nbsp;\n                                     <DayPickerInput value={issueDate} onDayChange={this.handleIssueDateChange} />\n                                </div>\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"Address\">Address:</label>&nbsp;&nbsp;\n                        <input label=\"Address\" type=\"text\" value={address} placeholder=\"Address\" onChange={this.onChangeAddress} className=\"form-control\" id=\"Address\" onClick={this.handleNidAddressClick}></input>\n                            </div>\n\n                       \n\n                            <small id=\"fileHelp\" className=\"form-text text-muted\" >\n                                    <i style={{ color: \"#33bfaa\" }} className=\"fas fa-exclamation-circle\"></i>&nbsp;\n                        Before submitting form, please check all your provided information again.</small>\n                        <br/>\n\n                            <button type=\"submit\" className=\"btn btn-primary btn-block\" style={{ backgroundColor: \"#00cccc\" }}>Submit</button>\n                            <br />\n                        </div>\n                        <div className=\" mx-auto d-block\">\n                            <br /> <br /> <br /> <br /> <br />\n                            <img src={this.state.oldNidImage} className=\"img-thumbnail\" alt=\"\" width=\"304\" height=\"236\" />\n                            <p style={{ textAlign: \"center\", color: \"#33bfaa\" }}>NID Image</p>\n                        </div>\n                    </div>\n                </form>\n            </div>\n        );\n        return (\n            <div className=\"container\">\n                <div className=\"d-flex align-items-center justify-content-sm-between\">\n                    <div className=\"col-sm-4\" >\n                        <Images />\n                    </div>\n\n                    <div className=\"col-sm-6\" >\n                        <Navbar />\n                    </div>\n                </div>\n\n\n                {loading ? <Loading /> : updateNidData}\n            </div>\n\n        );\n    }\n}\n\nexport default UpdateNid1;"]},"metadata":{},"sourceType":"module"}