{"ast":null,"code":"var _jsxFileName = \"/home/mehedi/Documents/e-newclient_v-2/e-chain-client/src/Component/TinForm.js\";\nimport React, { Component } from 'react';\nimport cookie from './utils/cookie';\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport dateFormatConverter from './utils/dateFormatConverter';\nimport { Spring } from 'react-spring/renderprops';\nimport fileValidation from \"./Validation/fileValidation\";\nimport Loading from \"./loading/Spinner\";\nimport axios from 'axios';\nimport { setTin } from \"./Url/Tin\";\nimport { getTransactionStatus } from \"./Url/Eth\";\n\nclass TinForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      tin: '',\n      taxesCircle: '',\n      taxesZone: '',\n      name: '',\n      fatherName: '',\n      motherName: '',\n      currentAddress: '',\n      permanentAddress: '',\n      previousTin: '',\n      status: \"Individual\",\n      date: '',\n      tinImage: null,\n      showForm: false,\n      loading: false\n    };\n\n    this.onSubmit = async e => {\n      e.preventDefault();\n      const _this$state = this.state,\n            tin = _this$state.tin,\n            taxesCircle = _this$state.taxesCircle,\n            taxesZone = _this$state.taxesZone,\n            name = _this$state.name,\n            fatherName = _this$state.fatherName,\n            motherName = _this$state.motherName,\n            currentAddress = _this$state.currentAddress,\n            permanentAddress = _this$state.permanentAddress,\n            previousTin = _this$state.previousTin,\n            status = _this$state.status,\n            date = _this$state.date,\n            tinImage = _this$state.tinImage;\n      console.log(fatherName);\n      console.log(motherName);\n      console.log(permanentAddress);\n      const config = {\n        headers: {\n          \"x-auth-token\": cookie.getCookie(\"x-auth-token\")\n        }\n      };\n      const formData = new FormData();\n\n      try {\n        if (fileValidation.fileValidate(\"uploadTinFile\", 3 * 1024 * 1024, [\"image/jpeg\", \"image/png\"]) === false) {\n          console.log(\"File validation failed\");\n        } else {\n          formData.append('tin', tin);\n          formData.append('taxesCircle', taxesCircle);\n          formData.append('taxesZone', taxesZone);\n          formData.append('name', name);\n          formData.append('fatherName', fatherName);\n          formData.append('motherName', motherName);\n          formData.append('currentAddress', currentAddress);\n          formData.append('permanentAddress', permanentAddress);\n          formData.append('previousTin', previousTin);\n          formData.append('status', status);\n          formData.append('date', date);\n          formData.append('tinImage', tinImage, tinImage.name);\n          this.setState({\n            loading: true\n          }, async () => {\n            //settin api\n            try {\n              const res = await axios.post(setTin, formData, config);\n              console.log(res);\n              let txHash = res.data.txHash;\n              setTimeout(async () => {\n                try {\n                  console.log(\"Hash of tx: \", txHash); //getTransactionStatus\n\n                  let txStatus = await axios.post(getTransactionStatus, {\n                    txHash: txHash\n                  }, config);\n                  console.log(\"Transaction status: \", txStatus);\n\n                  if (txStatus.data.status) {\n                    alert(\"Tranasction Successfull: \".concat(txStatus.data.status, \" : \").concat(txStatus.data.confirmations));\n                    this.setState({\n                      loading: false\n                    });\n                  } else {\n                    alert(\"Tx in mempool please wait for sometime\");\n                    this.setState({\n                      loading: false\n                    });\n                  }\n                } catch (ex) {\n                  // alert(ex.toString());\n                  if (ex.response) {\n                    if (ex.response.status === 400 || ex.response.status === 401) {\n                      console.log(ex.response.data);\n                      alert(ex.response.data.message);\n                    } else if (ex.response.status === 404) {\n                      alert(\"Not found\");\n                    } else if (ex.response.status === 500) {\n                      alert(ex.response.data.message);\n                    }\n                  } else if (ex.request) {\n                    console.log(ex.request);\n                    alert(\"Error Connecting\");\n                  } else {\n                    console.log(\"Error\", ex.message);\n                    alert(ex.message);\n                  }\n\n                  this.setState({\n                    loading: false\n                  });\n                }\n              }, 1000 * 10);\n              console.log(\"End\");\n              this.setState({\n                tin: '',\n                taxesCircle: '',\n                taxesZone: '',\n                name: '',\n                fatherName: '',\n                motherName: '',\n                currentAddress: '',\n                permanentAddress: '',\n                previousTin: '',\n                status: '',\n                date: '',\n                tinImage: ''\n              });\n            } catch (error) {\n              if (error.response) {\n                if (error.response.status === 400 || error.response.status === 401) {\n                  console.log(error.response.data);\n                  alert(error.response.data.message);\n                } else if (error.response.status === 404) {\n                  alert(\"Not found\");\n                } else if (error.response.status === 500) {\n                  alert(error.response.data.message);\n                }\n              } else if (error.request) {\n                console.log(error.request);\n                alert(\"Error Connecting\");\n              } else {\n                console.log(\"Error\", error.message);\n                alert(error.message);\n              }\n            }\n          });\n        }\n      } catch (ex) {\n        // alert(ex.toString());\n        if (ex.response) {\n          if (ex.response.status === 400 || ex.response.status === 401) {\n            console.log(ex.response.data);\n            alert(ex.response.data.message);\n          } else if (ex.response.status === 404) {\n            alert(\"Not found\");\n          } else if (ex.response.status === 500) {\n            alert(ex.response.data.message);\n          }\n        } else if (ex.request) {\n          console.log(ex.request);\n          alert(\"Error Connecting\");\n        } else {\n          console.log(\"Error\", ex.message);\n          alert(ex.message);\n        }\n      }\n    };\n\n    this.onChangeTin = e => this.setState({\n      tin: e.target.value\n    });\n\n    this.onChangeTaxesCircle = e => this.setState({\n      taxesCircle: e.target.value\n    });\n\n    this.onChangeTaxesZone = e => this.setState({\n      taxesZone: e.target.value\n    });\n\n    this.onChangeName = e => this.setState({\n      name: e.target.value\n    });\n\n    this.onChangeFatherName = e => this.setState({\n      fatherName: e.target.value\n    });\n\n    this.onChangeMotherName = e => this.setState({\n      motherName: e.target.value\n    });\n\n    this.onChangeCurrentAddress = e => this.setState({\n      currentAddress: e.target.value\n    });\n\n    this.onChangePermanentAddress = e => this.setState({\n      permanentAddress: e.target.value\n    });\n\n    this.onChangePreviousTin = e => this.setState({\n      previousTin: e.target.value\n    });\n\n    this.onChangeStatus = e => this.setState({\n      status: e.target.value\n    });\n\n    this.handleDayChange = (selectedDay, modifiers, dayPickerInput) => {\n      const input = dayPickerInput.getInput(); // console.log(input.value);\n\n      try {\n        const tindateConvert = dateFormatConverter.getTinFormat(input.value);\n        this.setState({\n          date: tindateConvert\n        });\n      } catch (ex) {// console.log(ex);\n      }\n    };\n\n    this.fileSelectedHandler = event => {\n      this.setState({\n        tinImage: event.target.files[0] //tinImage: URL.createObjectURL(event.target.files[0])\n\n      });\n    };\n  }\n\n  render() {\n    const _this$state2 = this.state,\n          showForm = _this$state2.showForm,\n          loading = _this$state2.loading,\n          status = _this$state2.status;\n    const tindata = React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        marginLeft: \"auto\",\n        marginRight: \"auto\"\n      },\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      onClick: () => {\n        this.setState({\n          showForm: !this.state.showForm\n        });\n      },\n      className: \"btn btn-primary btn-block\",\n      style: {\n        backgroundColor: \"#fff\",\n        color: \"#999\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, \"TIN Informations \\xA0 \\xA0 \\xA0 \", React.createElement(\"i\", {\n      className: \"fas fa-caret-down\",\n      style: {\n        color: \"#33bfaa\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), showForm ? React.createElement(Spring, {\n      from: {\n        opacity: 0,\n        marginTop: -50\n      },\n      to: {\n        opacity: 1,\n        marginTop: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, props => React.createElement(\"div\", {\n      style: props,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card border-light mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header\",\n      style: {\n        textAlign: \"center\",\n        backgroundColor: \"#33bfaa\",\n        color: \"#ffffff\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, \"Provide Your Taxpayer Identification Number Informations\"), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"uploadTinFile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"Provide TIN Image\"), React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.fileSelectedHandler,\n      className: \"form-control-file\",\n      id: \"uploadTinFile\",\n      \"aria-describedby\": \"fileHelp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"tin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, \"TIN:\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"TIN\",\n      onChange: this.onChangeTin,\n      className: \"form-control\",\n      id: \"indivtin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"taxesCircle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, \"Taxes Circle:\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Taxes Circle\",\n      onChange: this.onChangeTaxesCircle,\n      className: \"form-control\",\n      id: \"taxesCircle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"taxesZone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Taxes Zone:\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Taxes Zone\",\n      onChange: this.onChangeTaxesZone,\n      className: \"form-control\",\n      id: \"taxesZone\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, \"Name:\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Name\",\n      onChange: this.onChangeName,\n      className: \"form-control\",\n      id: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"fatherName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \"Father Name:\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Father Name\",\n      onChange: this.onChangeFatherName,\n      className: \"form-control\",\n      id: \"fatherName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"motherName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, \"Mother Name:\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Mother Name\",\n      onChange: this.onChangeMotherName,\n      className: \"form-control\",\n      id: \"motherName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"currentAddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, \"Current Address:\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Current Address\",\n      onChange: this.onChangeCurrentAddress,\n      className: \"form-control\",\n      id: \"currentAddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"permanentAddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"Permanent Address:\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Permanent Address\",\n      onChange: this.onChangePermanentAddress,\n      className: \"form-control\",\n      id: \"permanentAddress\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"previousTin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \"Previous TIN No:\"), React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Previous TIN No\",\n      onChange: this.onChangePreviousTin,\n      className: \"form-control\",\n      id: \"previousTin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"status\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, \"Status:\"), \"\\xA0\\xA0\", React.createElement(\"select\", {\n      id: \"status\",\n      className: \"custom-select\",\n      value: status,\n      name: this.props.name,\n      onChange: this.onChangeStatus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"Individual\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \"Individual\"))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, \"Date:\"), React.createElement(DayPickerInput, {\n      onDayChange: this.handleDayChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    })), React.createElement(\"small\", {\n      id: \"fileHelp\",\n      className: \"form-text text-muted\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      style: {\n        color: \"#33bfaa\"\n      },\n      className: \"fas fa-exclamation-circle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }), \"\\xA0 Before submitting form, please check all your provided information again.\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary btn-block\",\n      style: {\n        backgroundColor: \"#33bfaa\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, \"Submit\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    })))))) : null));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, loading ? React.createElement(Loading, {\n      message: \"TIN records will be inserted in few minutes\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }) : tindata);\n  }\n\n}\n\nexport default TinForm;","map":{"version":3,"sources":["/home/mehedi/Documents/e-newclient_v-2/e-chain-client/src/Component/TinForm.js"],"names":["React","Component","cookie","DayPickerInput","dateFormatConverter","Spring","fileValidation","Loading","axios","setTin","getTransactionStatus","TinForm","state","tin","taxesCircle","taxesZone","name","fatherName","motherName","currentAddress","permanentAddress","previousTin","status","date","tinImage","showForm","loading","onSubmit","e","preventDefault","console","log","config","headers","getCookie","formData","FormData","fileValidate","append","setState","res","post","txHash","data","setTimeout","txStatus","alert","confirmations","ex","response","message","request","error","onChangeTin","target","value","onChangeTaxesCircle","onChangeTaxesZone","onChangeName","onChangeFatherName","onChangeMotherName","onChangeCurrentAddress","onChangePermanentAddress","onChangePreviousTin","onChangeStatus","handleDayChange","selectedDay","modifiers","dayPickerInput","input","getInput","tindateConvert","getTinFormat","fileSelectedHandler","event","files","render","tindata","marginLeft","marginRight","backgroundColor","color","opacity","marginTop","props","textAlign"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport cookie from './utils/cookie';\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport dateFormatConverter from './utils/dateFormatConverter';\nimport { Spring } from 'react-spring/renderprops';\nimport fileValidation from \"./Validation/fileValidation\";\nimport Loading from \"./loading/Spinner\";\nimport axios from 'axios';\nimport { setTin } from \"./Url/Tin\";\nimport { getTransactionStatus } from \"./Url/Eth\";\n\n\n\nclass TinForm extends Component {\n    state = {\n        tin: '',\n        taxesCircle: '',\n        taxesZone: '',\n        name: '',\n        fatherName: '',\n        motherName: '',\n        currentAddress: '',\n        permanentAddress: '',\n        previousTin: '',\n        status: \"Individual\",\n        date: '',\n        tinImage: null,\n        showForm: false,\n        loading: false\n    }\n\n    onSubmit = async (e) => {\n        e.preventDefault();\n\n        const { tin, taxesCircle, taxesZone, name, fatherName, motherName, currentAddress, permanentAddress, previousTin, status, date, tinImage } = this.state;\n        console.log(fatherName);\n        console.log(motherName);\n        console.log(permanentAddress);\n\n        const config = {\n            headers: {\n                \"x-auth-token\": cookie.getCookie(\"x-auth-token\")\n            }\n        }\n\n        const formData = new FormData();\n\n        try {\n            if (fileValidation.fileValidate(\"uploadTinFile\", (3 * 1024 * 1024), [\"image/jpeg\", \"image/png\"]) === false) {\n                console.log(\"File validation failed\");\n            }\n            else {\n                formData.append('tin', tin);\n                formData.append('taxesCircle', taxesCircle);\n                formData.append('taxesZone', taxesZone);\n                formData.append('name', name);\n                formData.append('fatherName', fatherName);\n                formData.append('motherName', motherName);\n                formData.append('currentAddress', currentAddress);\n                formData.append('permanentAddress', permanentAddress);\n                formData.append('previousTin', previousTin);\n                formData.append('status', status);\n                formData.append('date', date);\n                formData.append('tinImage', tinImage, tinImage.name);\n\n                this.setState({ loading: true }, async () => {\n                    //settin api\n                    try {\n                        const res = await axios.post(setTin, formData, config);\n                        console.log(res);\n                        let txHash = res.data.txHash;\n                        setTimeout(async () => {\n                            try {\n                                console.log(\"Hash of tx: \", txHash);\n                                //getTransactionStatus\n                                let txStatus = await axios.post(getTransactionStatus, { txHash: txHash }, config);\n                                console.log(\"Transaction status: \", txStatus);\n                                if (txStatus.data.status) {\n                                    alert(`Tranasction Successfull: ${txStatus.data.status} : ${txStatus.data.confirmations}`);\n                                    this.setState({ loading: false })\n                                }\n                                else {\n                                    alert(\"Tx in mempool please wait for sometime\");\n                                    this.setState({ loading: false })\n                                }\n                            }\n                            catch (ex) {\n                                // alert(ex.toString());\n                                if (ex.response) {\n                                    if (ex.response.status === 400 || ex.response.status === 401) {\n                                        console.log(ex.response.data);\n                                        alert(ex.response.data.message);\n                                    }\n                                    else if (ex.response.status === 404) {\n                                        alert(\"Not found\");\n                                    }\n                                    else if (ex.response.status === 500) {\n                                        alert(ex.response.data.message);\n                                    }\n                                }\n                                else if (ex.request) {\n                                    console.log(ex.request);\n                                    alert(\"Error Connecting\");\n                                }\n                                else {\n                                    console.log(\"Error\", ex.message);\n                                    alert(ex.message);\n                                }\n\n                                this.setState({ loading: false })\n                            }\n                        }, 1000 * 10);\n                        console.log(\"End\");\n                        this.setState({\n                            tin: '',\n                            taxesCircle: '',\n                            taxesZone: '',\n                            name: '',\n                            fatherName: '',\n                            motherName: '',\n                            currentAddress: '',\n                            permanentAddress: '',\n                            previousTin: '',\n                            status: '',\n                            date: '',\n                            tinImage: ''\n                        });\n                    }\n                    catch (error) {\n                        if (error.response) {\n                            if (error.response.status === 400 || error.response.status === 401) {\n                                console.log(error.response.data);\n                                alert(error.response.data.message);\n                            }\n                            else if (error.response.status === 404) {\n                                alert(\"Not found\");\n                            }\n                            else if (error.response.status === 500) {\n                                alert(error.response.data.message);\n                            }\n                        }\n                        else if (error.request) {\n                            console.log(error.request);\n                            alert(\"Error Connecting\");\n                        }\n                        else {\n                            console.log(\"Error\", error.message);\n                            alert(error.message);\n                        }\n                    }\n                });\n\n            }\n\n        } catch (ex) {\n            // alert(ex.toString());\n            if (ex.response) {\n                if (ex.response.status === 400 || ex.response.status === 401) {\n                    console.log(ex.response.data);\n                    alert(ex.response.data.message);\n                }\n                else if (ex.response.status === 404) {\n                    alert(\"Not found\");\n                }\n                else if (ex.response.status === 500) {\n                    alert(ex.response.data.message);\n                }\n            }\n            else if (ex.request) {\n                console.log(ex.request);\n                alert(\"Error Connecting\");\n            }\n            else {\n                console.log(\"Error\", ex.message);\n                alert(ex.message);\n            }\n        }\n\n\n\n\n    }\n\n    onChangeTin = e => this.setState({ tin: e.target.value });\n    onChangeTaxesCircle = e => this.setState({ taxesCircle: e.target.value });\n    onChangeTaxesZone = e => this.setState({ taxesZone: e.target.value });\n    onChangeName = e => this.setState({ name: e.target.value });\n    onChangeFatherName = e => this.setState({ fatherName: e.target.value });\n    onChangeMotherName = e => this.setState({ motherName: e.target.value })\n    onChangeCurrentAddress = e => this.setState({ currentAddress: e.target.value });\n    onChangePermanentAddress = e => this.setState({ permanentAddress: e.target.value });\n    onChangePreviousTin = e => this.setState({ previousTin: e.target.value });\n    onChangeStatus = e => this.setState({ status: e.target.value });\n    handleDayChange = (selectedDay, modifiers, dayPickerInput) => {\n        const input = dayPickerInput.getInput();\n        // console.log(input.value);\n        try {\n            const tindateConvert = dateFormatConverter.getTinFormat(input.value);\n            this.setState({ date: tindateConvert });\n        } catch (ex) {\n           // console.log(ex);\n        }\n\n    }\n\n    fileSelectedHandler = event => {\n        this.setState({\n            tinImage: event.target.files[0]\n            //tinImage: URL.createObjectURL(event.target.files[0])\n        })\n    }\n\n\n    render() {\n        const { showForm, loading, status } = this.state;\n        const tindata = (\n            <div className=\"container\">\n                <div style={{\n                    marginLeft: \"auto\",\n                    marginRight: \"auto\"\n\n                }} className=\"\">\n\n\n                    <button type=\"submit\" onClick={() => {\n\n\n                        this.setState({ showForm: !this.state.showForm })\n                    }}\n                        className=\"btn btn-primary btn-block\" style={{ backgroundColor: \"#fff\", color: \"#999\" }}>\n\n                        TIN Informations &nbsp; &nbsp; &nbsp; <i className=\"fas fa-caret-down\" style={{ color: \"#33bfaa\" }}></i>\n                    </button>\n                    <br />\n\n                    {showForm ?\n\n                        <Spring\n                            from={{ opacity: 0, marginTop: -50 }}\n                            to={{ opacity: 1, marginTop: 0 }}\n                        >\n                            {props => (\n                                <div style={props}>\n\n\n\n                                    <div className=\"card border-light mb-3\">\n                                        <div className=\"card-header\"\n                                            style={{ textAlign: \"center\", backgroundColor: \"#33bfaa\", color: \"#ffffff\" }}>\n                                            Provide Your Taxpayer Identification Number Informations\n                                    </div>\n                                        <div className=\"card-body\" >\n                                            <form onSubmit={this.onSubmit}>\n\n                                            <div className=\"form-group\">\n                                                    <label htmlFor=\"uploadTinFile\">Provide TIN Image</label>\n                                                    <input type=\"file\" onChange={this.fileSelectedHandler} className=\"form-control-file\" id=\"uploadTinFile\" aria-describedby=\"fileHelp\"></input>\n                                                    \n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <label htmlFor=\"tin\">TIN:</label>\n                                                    <input type=\"text\" placeholder=\"TIN\" onChange={this.onChangeTin} className=\"form-control\" id=\"indivtin\" ></input>\n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <label htmlFor=\"taxesCircle\">Taxes Circle:</label>\n                                                    <input type=\"text\" placeholder=\"Taxes Circle\" onChange={this.onChangeTaxesCircle} className=\"form-control\" id=\"taxesCircle\"></input>\n                                                </div>\n\n\n                                                <div className=\"form-group\">\n                                                    <label htmlFor=\"taxesZone\">Taxes Zone:</label>\n                                                    <input type=\"text\" placeholder=\"Taxes Zone\" onChange={this.onChangeTaxesZone} className=\"form-control\" id=\"taxesZone\" ></input>\n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <label htmlFor=\"name\">Name:</label>\n                                                    <input type=\"text\" placeholder=\"Name\" onChange={this.onChangeName} className=\"form-control\" id=\"name\" ></input>\n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <label htmlFor=\"fatherName\">Father Name:</label>\n                                                    <input type=\"text\" placeholder=\"Father Name\" onChange={this.onChangeFatherName} className=\"form-control\" id=\"fatherName\" ></input>\n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <label htmlFor=\"motherName\">Mother Name:</label>\n                                                    <input type=\"text\" placeholder=\"Mother Name\" onChange={this.onChangeMotherName} className=\"form-control\" id=\"motherName\" ></input>\n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <label htmlFor=\"currentAddress\">Current Address:</label>\n                                                    <input type=\"text\" placeholder=\"Current Address\" onChange={this.onChangeCurrentAddress} className=\"form-control\" id=\"currentAddress\"></input>\n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <label htmlFor=\"permanentAddress\">Permanent Address:</label>\n                                                    <input type=\"text\" placeholder=\"Permanent Address\" onChange={this.onChangePermanentAddress} className=\"form-control\" id=\"permanentAddress\"></input>\n                                                </div>\n\n                                                <div className=\"form-group\">\n                                                    <label htmlFor=\"previousTin\">Previous TIN No:</label>\n                                                    <input type=\"text\" placeholder=\"Previous TIN No\" onChange={this.onChangePreviousTin} className=\"form-control\" id=\"previousTin\"></input>\n                                                </div>\n\n                                                {/* <div className=\"form-group\">\n                                                    <label htmlFor=\"status\">Status:</label>\n                                                    <input type=\"text\" placeholder=\"Status\" onChange={this.onChangeStatus} className=\"form-control\" id=\"pwd\" ></input>\n                                                </div> */}\n                                                <div className=\"form-group\">\n\n                                                    <label htmlFor=\"status\">Status:</label>&nbsp;&nbsp;\n                                                    <select id=\"status\" className=\"custom-select\" value={status} name={this.props.name} onChange={this.onChangeStatus}>\n\n                                                        <option value=\"Individual\">Individual</option>\n\n                                                    </select>\n\n\n\n                                                </div>\n\n\n                                                <div className=\"form-group\">\n                                                    <label htmlFor=\"date\">Date:</label>\n                                                    <DayPickerInput onDayChange={this.handleDayChange} />\n                                                </div>\n\n                                               \n                                                <small id=\"fileHelp\" className=\"form-text text-muted\" >\n                                                        <i style={{ color: \"#33bfaa\" }} className=\"fas fa-exclamation-circle\"></i>&nbsp;\n                                            Before submitting form, please check all your provided information again.</small>\n                                            <br/>\n                                                <button type=\"submit\" className=\"btn btn-primary btn-block\" style={{ backgroundColor: \"#33bfaa\" }}>Submit</button>\n                                                <br />\n                                            </form>\n                                        </div>\n                                    </div>\n\n                                </div>\n                            )}\n                        </Spring> : null}\n\n\n\n\n\n\n\n\n                </div>\n\n\n\n\n\n\n            </div >\n        );\n        return (\n            <div>\n                {loading ? <Loading message=\"TIN records will be inserted in few minutes\" /> : tindata}\n            </div>\n\n        )\n    }\n}\n\nexport default TinForm;"]},"metadata":{},"sourceType":"module"}