{"ast":null,"code":"var _jsxFileName = \"/home/mehedi/Documents/e-newclient_v-2/e-chain-client/src/Component/Update/UpdateProfilePic.js\";\nimport React, { Component } from 'react';\nimport ImageConversion from '../utils/ImageConversion';\nimport '../css/Welcome.css';\nimport axios from 'axios';\nimport cookie from '../utils/cookie';\nimport { getProfileImage, uploadProfileImage, updateProfileImage } from \"../Url/User\";\n\nclass UpdateProfilePic extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      profileImage: null,\n      img: \"\",\n      flagImage: false\n    };\n\n    this.fileSelectedHandler = event => {\n      try {\n        this.setState({\n          profileImage: event.target.files[0]\n        });\n      } catch (ex) {\n        console.log(ex);\n      }\n    };\n\n    this.fileUploadHandler = async () => {\n      const fd = new FormData();\n\n      try {\n        fd.append('profileImage', this.state.profileImage, this.state.profileImage.name);\n        const config = {\n          headers: {\n            \"x-auth-token\": cookie.getCookie(\"x-auth-token\")\n          }\n        };\n\n        if (this.state.flagImage !== true) {\n          /////////////////////////////uploadProfileImage\n          axios.post(uploadProfileImage, fd, config).then(res => {\n            console.log(res); //console.log(res.data._id);\n\n            if (res.data.id !== null) {\n              ///////////////getProfileImage\n              axios.get(getProfileImage, config).then(newres => {\n                try {\n                  let base64Flag = 'data:image/jpeg;base64,';\n                  let imageBuffer = newres.data.image.data.data;\n                  let imageString = ImageConversion.arrayBufferToBase64(imageBuffer);\n                  let convertImageFlag = base64Flag + imageString;\n                  this.setState({\n                    img: convertImageFlag,\n                    flagImage: true\n                  });\n                } catch (ex) {\n                  console.log(ex);\n                }\n              }).catch(err => console.log(err));\n            }\n          }).catch(error => alert(error.response.data.message));\n        } else {\n          //////////////////////////////////////updateProfileImage\n          axios.put(updateProfileImage, fd, config).then(res => {\n            console.log(res); //console.log(res.data._id);\n\n            if (res.data.id !== null) {\n              /////////////////getProfileImage\n              axios.get(getProfileImage, config).then(newres => {\n                try {\n                  let base64Flag = 'data:image/jpeg;base64,';\n                  let imageBuffer = newres.data.image.data.data;\n                  let imageString = ImageConversion.arrayBufferToBase64(imageBuffer);\n                  let convertImageFlag = base64Flag + imageString;\n                  this.setState({\n                    img: convertImageFlag\n                  });\n                } catch (ex) {\n                  console.log(ex);\n                }\n              }).catch(err => console.log(err));\n            }\n          }).catch(error => alert(error.response.data.message));\n        }\n      } catch (ex) {\n        alert(\"no file choosen\");\n      } //console.log(this.state.profileImage);\n      // this.setState = {\n      //     profileImage: null\n      // }\n      //this.props.history.push('/about');\n\n    };\n  }\n\n  componentDidMount() {\n    ////////////getProfileImage\n    axios.get(getProfileImage, {\n      headers: {\n        \"x-auth-token\": cookie.getCookie(\"x-auth-token\")\n      }\n    }).then(newres => {\n      try {\n        // console.log(newres);\n        let base64Flag = 'data:image/jpeg;base64,';\n        let imageBuffer = newres.data.image.data.data;\n        let imageString = ImageConversion.arrayBufferToBase64(imageBuffer);\n        let convertImageFlag = base64Flag + imageString;\n        this.setState({\n          img: convertImageFlag,\n          flagImage: true\n        });\n      } catch (ex) {\n        console.log(ex);\n      }\n    }).catch(err => {\n      if (err.response) {\n        if (err.response.status === 400 || err.response.status === 401) {\n          console.log(err.response.data);\n          alert(err.response.data.message);\n        } else if (err.response.status === 404) {\n          alert(\"Not Found\");\n        } else if (err.response.status === 500) {\n          alert(err.response.data.message);\n        }\n      } else if (err.request) {\n        console.log(err.request);\n        alert(\"Error Connectiong\");\n      } else {\n        console.log(\"Error\", err.message);\n        alert(err.message);\n      }\n    });\n  } // componentDidUpdate(){\n  //     axios.get(`http://localhost:4000/user/get-profile-image`, {headers:{ \n  //         \"x-auth-token\": cookie.getCookie(\"x-auth-token\")\n  //     }})\n  //                     .then(newres => {\n  //                         try {\n  //                             console.log(newres);\n  //                             let base64Flag = 'data:image/jpeg;base64,';\n  //                             let imageBuffer = newres.data.image.data.data;\n  //                             let imageString = ImageConversion.arrayBufferToBase64(imageBuffer);\n  //                             let convertImageFlag = base64Flag + imageString;\n  //                             this.setState({ img : convertImageFlag });\n  //                         } catch (ex) {\n  //                             console.log(ex);\n  //                         }\n  //                     })\n  //                     .catch(err => console.log(err));\n  // }\n\n\n  render() {\n    // const { strImage } = this.state;\n    // console.log(strImage);\n    return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex flex-column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.img,\n      style: {\n        maxWidth: \"15%\",\n        cursor: \"pointer\"\n      },\n      className: \"rounded-circle img-fluid img-thumbnail\",\n      id: \"profilePicture\",\n      alt: \"profilePicture\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card border-primary mb-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-body d-flex justify-content-between\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      onChange: this.fileSelectedHandler.bind(this),\n      className: \"form-control-file\",\n      id: \"exampleInputFile\",\n      \"aria-describedby\": \"fileHelp\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      onClick: this.fileUploadHandler,\n      style: {\n        backgroundColor: \"#33bfaa\"\n      },\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"Upload\")))))));\n  }\n\n}\n\nexport default UpdateProfilePic;","map":{"version":3,"sources":["/home/mehedi/Documents/e-newclient_v-2/e-chain-client/src/Component/Update/UpdateProfilePic.js"],"names":["React","Component","ImageConversion","axios","cookie","getProfileImage","uploadProfileImage","updateProfileImage","UpdateProfilePic","state","profileImage","img","flagImage","fileSelectedHandler","event","setState","target","files","ex","console","log","fileUploadHandler","fd","FormData","append","name","config","headers","getCookie","post","then","res","data","id","get","newres","base64Flag","imageBuffer","image","imageString","arrayBufferToBase64","convertImageFlag","catch","err","error","alert","response","message","put","componentDidMount","status","request","render","maxWidth","cursor","bind","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport ImageConversion from '../utils/ImageConversion';\nimport '../css/Welcome.css';\nimport axios from 'axios';\nimport cookie from '../utils/cookie';\nimport {getProfileImage,uploadProfileImage,updateProfileImage} from \"../Url/User\";\n\nclass UpdateProfilePic extends Component {\n    state = {\n        profileImage: null,\n        img: \"\",\n        flagImage: false\n    }\n\n    fileSelectedHandler = event => {\n        try {\n            this.setState({\n                profileImage: event.target.files[0]\n            });\n        } catch (ex) {\n            console.log(ex);\n        }\n\n    }\n\n\n\n\n    componentDidMount() {\n        ////////////getProfileImage\n        axios.get(getProfileImage, {\n            headers: {\n                \"x-auth-token\": cookie.getCookie(\"x-auth-token\")\n            }\n        })\n            .then(newres => {\n                try {\n                    // console.log(newres);\n                    let base64Flag = 'data:image/jpeg;base64,';\n                    let imageBuffer = newres.data.image.data.data;\n                    let imageString = ImageConversion.arrayBufferToBase64(imageBuffer);\n                    let convertImageFlag = base64Flag + imageString;\n                    this.setState({ img: convertImageFlag, flagImage: true });\n                } catch (ex) {\n                    console.log(ex);\n                }\n\n            })\n            .catch(err => {\n                if (err.response) {\n                    if (err.response.status === 400 || err.response.status === 401) {\n                        console.log(err.response.data);\n                        alert(err.response.data.message);\n                       \n                    }\n                    else if (err.response.status === 404) {\n                        alert(\"Not Found\");\n                    }\n                    else if (err.response.status === 500) {\n                        alert(err.response.data.message);\n                    }\n                }\n                else if(err.request){\n                    console.log(err.request);\n                    alert(\"Error Connectiong\");\n                }\n                else{\n                    console.log(\"Error\", err.message);\n                    alert(err.message);\n                }\n            });\n    }\n\n    // componentDidUpdate(){\n    //     axios.get(`http://localhost:4000/user/get-profile-image`, {headers:{ \n    //         \"x-auth-token\": cookie.getCookie(\"x-auth-token\")\n    //     }})\n    //                     .then(newres => {\n    //                         try {\n    //                             console.log(newres);\n    //                             let base64Flag = 'data:image/jpeg;base64,';\n    //                             let imageBuffer = newres.data.image.data.data;\n    //                             let imageString = ImageConversion.arrayBufferToBase64(imageBuffer);\n    //                             let convertImageFlag = base64Flag + imageString;\n    //                             this.setState({ img : convertImageFlag });\n    //                         } catch (ex) {\n    //                             console.log(ex);\n    //                         }\n\n    //                     })\n    //                     .catch(err => console.log(err));\n\n    // }\n\n\n\n    fileUploadHandler = async () => {\n\n        const fd = new FormData();\n        try {\n            fd.append('profileImage', this.state.profileImage, this.state.profileImage.name);\n            const config = {\n                headers: {\n                    \"x-auth-token\": cookie.getCookie(\"x-auth-token\")\n                }\n            }\n\n            if (this.state.flagImage !== true) {\n           /////////////////////////////uploadProfileImage\n                axios.post(uploadProfileImage, fd, config)\n                    .then(res => {\n                        console.log(res);\n                        //console.log(res.data._id);\n                        if (res.data.id !== null) {\n                            ///////////////getProfileImage\n                            axios.get(getProfileImage, config)\n                                .then(newres => {\n                                    try {\n                                        let base64Flag = 'data:image/jpeg;base64,';\n                                        let imageBuffer = newres.data.image.data.data;\n                                        let imageString = ImageConversion.arrayBufferToBase64(imageBuffer);\n                                        let convertImageFlag = base64Flag + imageString;\n                                        this.setState({ img: convertImageFlag, flagImage: true });\n                                    } catch (ex) {\n                                        console.log(ex);\n                                    }\n\n                                })\n                                .catch(err => console.log(err));\n                        }\n\n\n                    })\n                    .catch(error => alert(error.response.data.message));\n\n            } else {\n\n //////////////////////////////////////updateProfileImage\n                axios.put(updateProfileImage, fd, config)\n                    .then(res => {\n                        console.log(res);\n                        //console.log(res.data._id);\n                        if (res.data.id !== null) {\n                            /////////////////getProfileImage\n                            axios.get(getProfileImage, config)\n                                .then(newres => {\n                                    try {\n                                        let base64Flag = 'data:image/jpeg;base64,';\n                                        let imageBuffer = newres.data.image.data.data;\n                                        let imageString = ImageConversion.arrayBufferToBase64(imageBuffer);\n                                        let convertImageFlag = base64Flag + imageString;\n                                        this.setState({ img: convertImageFlag });\n                                    } catch (ex) {\n                                        console.log(ex);\n                                    }\n\n                                })\n                                .catch(err => console.log(err));\n                        }\n\n\n                    })\n                    .catch(error => alert(error.response.data.message));\n\n            }\n\n\n        } catch (ex) {\n            alert(\"no file choosen\");\n        }\n\n        //console.log(this.state.profileImage);\n\n\n\n\n\n\n\n\n\n\n\n        // this.setState = {\n        //     profileImage: null\n        // }\n        //this.props.history.push('/about');\n\n    }\n\n    render() {\n        // const { strImage } = this.state;\n        // console.log(strImage);\n        return (\n            <div className=\"container\">\n\n                <div className=\"d-flex flex-column\" >\n\n                    <div className=\"d-flex justify-content-center\">\n                        <img src={this.state.img}\n                            style={{ maxWidth: \"15%\", cursor: \"pointer\" }}\n                            className=\"rounded-circle img-fluid img-thumbnail\" id=\"profilePicture\" alt=\"profilePicture\" />\n\n                    </div>\n                    <br />\n                    <div className=\"d-flex justify-content-center\">\n                        <div className=\"card border-primary mb-3\">\n                            <div className=\"card-body d-flex justify-content-between\">\n                                <div className=\"\">\n                                    <input type=\"file\" onChange={this.fileSelectedHandler.bind(this)} className=\"form-control-file\" id=\"exampleInputFile\" aria-describedby=\"fileHelp\"></input>\n                                </div>\n                                <div className=\"\">\n                                    <button type=\"button\" onClick={this.fileUploadHandler} style={{ backgroundColor: \"#33bfaa\" }} className=\"btn btn-primary\">Upload</button>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n\n                </div>\n\n\n            </div>\n        );\n    }\n}\n\nexport default UpdateProfilePic;"]},"metadata":{},"sourceType":"module"}